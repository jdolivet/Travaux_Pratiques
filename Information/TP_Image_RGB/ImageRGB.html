<!DOCTYPE html>
<html lang="fr">
	<head>
   		<meta charset=utf-8>
		<meta name="description" content="TP manipulation image Python">
		<meta name="keywords" content="ISN, Python, fichier, PPM, RGB">
		<meta name="author" content="Johann Dolivet">

    	<title>TP RGB</title>
		<link rel="icon" href="https://sites.google.com/site/sciencesdunumerique/favicon.ico" />
		<style>
			body 	{background-color:whitesmoke}
			h1   	{text-align:center;color:grey;font-size:200%}
			p    	{color:black}
			code 	{font-size:120%;font-weight: bold}
			kbd 	{font-size:120%;color:dimgrey;font-weight: bold}
			footer	{font-size:80%;font-style:italic;text-align:right;}
			ul	{line-height : 1.5}
			img.displayed {display: block; margin-left: auto; margin-right: auto }
			#yourcode {font-family: courier;font-size: 12px;display: block;margin-left: auto;margin-right: auto;}
		</style>
  	</head>
  	<body>
	   	<header>
			<img src="https://sites.google.com/site/sciencesdunumerique/config/customLogo.gif" alt="" />	
	      	<h1>Image</h1>
	    </header>
		<section>		
			<p>L'image suivante a été encodée.</p>
			<img class="displayed" src="ImageSecrete.png">
			<p>L'objectif de ce TP est de découvrir de quelle image il s'agit.</p>
			<p>Quelques informations :</p>			
			<ul>
				<li>
				<p>Chaque pixel de l'image originale est exclusivement de couleur Rouge et Bleu.</p>
				</li>
			
				<li>
				<p>Pour encoder l'image, pour chaque pixel, les valeurs du Rouge et du Bleu ont été divisées par 10. Cette action permet d'obscurcir l'image.</p>
				</li>

				<li>
				<p>Pour encoder l'image, pour chaque pixel, la valeur du Vert a été générée de façon aléatoire (un entier entre 0 et 255). Cette action permet de "brouiller" l'image.</p>
				</li>
			</ul>
<p>Par ailleurs, l'image originale est au format <kbd>ppm</kbd>. Vous pouvez télécharger l'image secrète (<kbd>ImageSecrete.ppm</kbd>) à partir de ce <a href="http://www.jdolivet.byethost13.com/Travaux_Pratiques/Information/TP_Image_RGB/ImageSecrete.ppm">lien</a>.</p>
			<p>L'objectif sera donc de manipuler ce fichier, à partir des informations ci-dessus, pour retrouver l'image originale.<br>
			Ci-dessous, un programme permettant de reproduire un fichier <kbd>Source.ppm</kbd> à l'identique.</p>

        <textarea cols="80" id="yourcode" rows="18">
# On récupère l'image source
source = open("Source.ppm","r")
image = source.readlines()
source.close()

# On récupère les informations nécessaires
dimensions = image[2].split()
largeur = int(dimensions[0])
hauteur = int(dimensions[1])

# On créé le fichier destination
destination = open("Destination.ppm","w")

# On remplit l'entête du fichier destination
destination.write("P3\n")
destination.write("# Image cherchée\n")
destination.write(str(largeur) + ' ' + str(hauteur) + '\n')
destination.write("255\n")

# On construit le fichier pixel par pixel
k = 4
for j in range(hauteur):
    for i in range(largeur):
        red = int(image[k])
        destination.write(str(red) + '\n')
        green = int(image[k + 1])
        destination.write(str(green) + '\n')
        blue = int(image[k + 2])
        destination.write(str(blue) + '\n')
        k += 3
        
# On referme tout
destination.close()</textarea>



			<p>Il faut donc ecrire votre code dans un fichier.<br/>
			L'enregistrer sous la forme <kbd>prenom_nom_tpInfo1.py</kbd> et l'envoyer, ainsi que la photo récupérée, dans un dossier compressé <kbd>prenom_nom_tpInfo1.zip</kbd> par courriel.</p>

		<button data-href="" onclick="masquemod('Aide');return false;" class="button">Remarques</button>
			<div id="Aide" style="display:none;">
			<ul>
				<li>L'image <kbd>ImageSecrete.ppm</kbd> doit être dans le même repertoire que votre script.</li>
				<li>Vous devez, bien sûr, vous aider du code fourni : peu de modifications sont nécessaires.</li>
			</ul>
			</div>
			<script>function masquemod(id){
			   if(document.getElementById(id).style.display=='none'){
			      document.getElementById(id).style.display='block';
			   }else{
			      document.getElementById(id).style.display='none';
			   }
			}
			</script>
		</section>
	    	<footer>
			<br/>
			<br/>
	     		<p>Source : CS101-SP Computer Science 101</p>
	    	</footer>
  	</body> 
</html>
